# 离散数学 2 命题逻辑

逻辑学：有效与正确的规则的形式化系统研究

## 逻辑命题的基本概念

逻辑：

- 如何表示？
- 如何”操作“？

**命题变元**或**命题变项**符号化的命题，表示一个抽象的命题

**原子命题**或**简单命题**：不可再分

**复合命题**：原子命题复合而成

**命题连接词**或**命题运算符**：

- 否定词
- 合取词 $\and$
- 析取词
  - 可兼或：$\or$
  - 不可兼或：$\bigoplus$ 
- 蕴含词 $\rightarrow$
- 等价词（双条件）$\leftrightarrow$

## 命题公式与分类

也称 **合式公式** 或 **公式**

*注意*: $p \and q \or r$不是命题公式！合取和析取不满足自左而右运算，必须加括号！

**子公式**：一个命题公式中连续的符号串，且为命题公式

命题公式不是命题，只有内部命题变元给定才是命题。 **n元命题公式**

指定的一组真值称 **真值指派** 或 **赋值**

- 成真指派和成假指派

**永真式** 或 **重言式**：一切命题指派都为真

**永假式** 或 **矛盾式**

**可满足式**：至少存在一个成真指派

**非重言的可满足式**

### 真值表

### 命题符号化

自然语言 => 命题公式

例如：”小李生于1987或1988年“ $ p \bigoplus q $

"IF P THEN Q ELSE R" $ (P \rightarrow Q) \and (\neg P \rightarrow R) $

## 命题逻辑的等值演算

若 $A \leftrightarrow B$ 是重言式，称A与B **等值**，或 **逻辑等价**，记作 $A \equiv B$

等值演算只能证明逻辑等价，不能证明不等值（需要给出反例）。

- 带入规则
  - 假定A是重言式，对其中所有相同命题变项都用同一命题公式代换，结果仍是重言式
- 置换规则
  - $\Phi(A)$是含命题公式A的命题公式，$\Phi(B)$是命题公式B置换$\Phi(A)$中A之后得到的命题公式（不一定是每一处）。如果$ A\equiv B $，则$\Phi(A) \equiv \Phi(B)$

应用：化简程序逻辑、化简自然语言、找到真值指派

## 范式

### 析取范式和合取范式

命题变项p和其否定式$\neg p$统称 **文字**，且p和$\neg p$称 **互补对**

**析取式**：有限个文字析取所组成的公式

**合取式**：有限个文字合取所组成的公式

**析取范式(DNF)**：形如 $A_1 \or A_2 \or \cdots \or A_n$

**合取范式(CNF)**：形如 $A_1 \and A_2 \and \cdots \and A_n$

*CNF和DNF中只能出现*$\and, \or, \neg$

性质：

- 析取范式的对偶式为合取范式，合取范式的对偶式为析取范式
- B为A\*的析取范式，则B\*为A的合取范式

**范式存在定理**：任一命题公式都存在与之等值的析取范式和合取范式

*析取范式和合取范式不唯一*

### 极大项与极小项

**极小项**：合取式

极小项只在一个真值指派下为真（恰为编号）

极小项两两不等值，$m_i \and m_j \equiv F (i\neq j)$

恰由 $2^n$ 个极小项的**析取**构成的公式必为重言式

**极大项**：析取式（此时将命题变项的否定看做1）

极大项只在一个真值指派下为假（恰为编号）

极大项两两不等值，$M_i \or M_j \equiv T (i\neq j)$

恰由 $2^n$ 个极大项的**合取**构成的公式必为矛盾式

**极大项和极小项的关系**：$m_i \equiv \neg M_i$

### 主范式

**主析取范式**：n个命题变项构成的析取范式中所有的合取范式都是极小项，$\Sigma$表示（极小项的析取）

**A的主析取范式**：与命题公式A等值的主析取范式

**主析取范式的求解**：

1. 求A的析取范式A'
2. 补充不含某命题变项的合取式B $B = B \and (p_i \or \neg p_i)$
3. 重复出现的命题变项、矛盾式、重复出现的极小项消去
4. 极小项从小到大排列

**主合取范式**：$\Pi$表示

补充的是 $B = B \or (p_i \and \neg p_i)$

**真值表和主范式关系**

**主析取范式和主合取范式关系**

A的主析取范式含有k个极小项，则 $\neg A$ 的主析取范式必含 $2^n - k$ 个极小项

**利用A的主析取范式求主合取范式的步骤**

考察主析取范式中没有包含的极小项脚标（也就是主合取范式的脚标）

**主析取范式定理**：唯一性

**主合取范式定理**：唯一性

**应用**：

- 判断命题公式等值（唯一性）
- 判断命题公式类型
  - **A为重言式**：A的主析取范式含全部$2^n$个极小项
  - **A为矛盾式**：A的主析取范式中不含任何极小项（空公式）
  - **A为可满足式**：A的主析取范式至少含一个极小项
- 求命题公式成真或成假赋值

## 命题逻辑的推理

**前提** 或 **假设**

**结论**

**正确的推理** 或 **有效的推理** 是指 $A_1 \and A_2 \and \cdots \and A_n \rightarrow B$ 是重言式

B是前提的 **逻辑推论** 或 **有效结论**

**基本方法**

- 命题符号化
- 写出前提、结论、推理的形式结构（蕴含式）
- 对推理形式的正确性进行判断（判断重言式）

判定公式类型

- 真值表法
- 等值演算法
- 主析取范式法

### 演绎法

**基本推理公式**（以下皆为重言式）

- 附加律 $A \rightarrow (A \or B)$
- 化简律 $(A\and B) \rightarrow A$
- 假言推理/分离式 $(A \rightarrow B) \and A \rightarrow B$
- 析取三段论 $ (A \or B) \and \neg B \rightarrow A $
- 拒取式 $(A \rightarrow B) \and \neg B \rightarrow \neg A$
- 假言三段论 $ (A \rightarrow B) \and (B \rightarrow C) \rightarrow (A \rightarrow C) $

**推理规则**

- 前提引入规则
- 结论引入规则
- 代入规则
- 置换规则

**附加前提证明法**

欲证明：
$$
\because p_1, p_2, \cdots, p_k \\
\therefore r \rightarrow q
$$
等价为：
$$
\because p_1, p_2, \cdots, p_k, r \\
\therefore q
$$
**归谬法**

若 $A_1\and A_2 \and \cdots \and A_n$ 是可满足式，称 $A_i$ 是 **相容的**

若 $A_1\and A_2 \and \cdots \and A_n$ 是矛盾式，称 $A_i$ 是 **不相容的**

定理：$A_1\and A_2 \and \cdots \and A_n \rightarrow B$ 为重言式 $\iff A_1\and A_2 \and \cdots \and A_n \and B$ 为矛盾式

欲证明：
$$
\because p_1, p_2, \cdots, p_k \\\therefore b
$$
等价为：
$$
\because p_1, p_2, \cdots, p_k, \neg b \\\therefore contradiction!
$$

### 归结法resolution

推理演算法规则和公式多，技巧高，不利机器证明

归结法只需一条推理规则：归结

**步骤**

1. $A \and \neg B$ 化为合取范式 $C_1 \and C_2 \and \cdots \and C_n$，$C_i$ 为析取式。由 $C_i$ 构成子句集 $S = \{C_1, C_2, \cdots, C_n\}$
2. 对S中的子句进行归结（消去互补对），归结结果仍放入S，不断重复
3. 直到归结得到空子句（矛盾式）

## 扩展

### 对偶

*注意：F和T也要互相取代*

**定理**：

$\neg A(p_1, p_2, \cdots, p_n) = A^*(\neg p_1, \neg p_2, \cdots, \neg p_n)$

**推论**：

A 为重言式，则A\*必为矛盾式

**定理（对偶原理）**

$if \space A \equiv B \space then \space  A^* \equiv B^*$

### 命题连接词的完备集

若任意由n个命题变项构成的命题公式都存在仅包含联结词集合C中联结词等值的公式，则称C是 **完备的联结词集合** 或 **联结词的完备集**

可由C中其它联结词定义的联结词称 **冗余联结词**

不含冗余的联结词完备集称 **极小完备集**

**定理**：如果联结词完备集 $S_1$ 中所有联结词都可以由联结词集合 $S_2$ 定义，则 $S_2$ 也是联结词完备集

**定理**：完备集有如下

- $ S = \{\neg, \and, \or\}$ **主范式定理**
- $ S = \{\neg, \and\}$ 极小完备集
- $ S = \{\neg,\or\}$ 极小完备集
- $ S = \{\neg, \rightarrow\}$ 极小完备集

**与非词**：$\uparrow$，二元联结词，当且仅当p，q的真值均为真时，$p\uparrow q$为假。$p \uparrow q = \neg(p\and q)$

**或非词**：$\downarrow$，二元联结词，当且仅当p，q的真值均为假时，$p\uparrow q$为假。$p \downarrow q = \neg(p\or q)$

**定理**：

- $ S = \{\uparrow\}$ 极小完备集
  - $\neg p \equiv \neg(p \and p) \equiv p \uparrow$
  - $p \and q \equiv \neg \neg (p \and q) \equiv \neg (p \uparrow q) \equiv (p\uparrow q)\uparrow (p \uparrow q) $
- $ S = \{\downarrow\}$ 极小完备集